<!DOCTYPE html>
<html>
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin: 0; padding: 0; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
    img { border: 0; height: auto; line-height: 100%; outline: none; text-decoration: none; }
  </style>
</head>
<body style="background-color: #f3f4f6; margin: 0; padding: 40px 0; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;">

  <div style="max-width: 600px; margin: 0 auto; padding: 0 20px;">
    
    <%# --- メインカード --- %>
    <div style="background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
      
      <%# ヘッダー：TripConcierge共通のグラデーション %>
      <div style="background-color: #7c3aed; background: linear-gradient(90deg, #7c3aed 0%, #3b82f6 100%); padding: 32px 20px; text-align: center;">
        <h1 style="color: #ffffff; margin: 0; font-size: 24px; font-weight: bold; letter-spacing: 1px; text-shadow: 0 1px 2px rgba(0,0,0,0.2);">Password Reset</h1>
        <p style="color: #eff6ff; margin: 5px 0 0; font-size: 14px; opacity: 0.9;">パスワード再設定のご案内</p>
      </div>

      <%# コンテンツエリア %>
      <div style="padding: 32px 24px; text-align: center; color: #333333;">
        
        <p style="font-size: 15px; line-height: 1.6; margin-bottom: 24px; color: #4b5563;">
          こんにちは、<%= @resource.email %> 様。<br>
          アカウントのパスワード再設定のリクエストを受け付けました。
        </p>

        <p style="font-size: 14px; line-height: 1.6; margin-bottom: 32px; color: #6b7280;">
          以下のリンクをクリックして、新しいパスワードを設定してください。<br>
          このリンクの有効期限は <%= Devise.reset_password_within / 1.hour %> 時間です。
        </p>

        <%# アクションボタン %>
        <div style="margin-bottom: 32px;">
          <%= link_to edit_password_url(@resource, reset_password_token: @token), style: "display: inline-block; background-color: #7c3aed; background: linear-gradient(90deg, #7c3aed 0%, #3b82f6 100%); color: #ffffff; text-decoration: none; padding: 14px 30px; border-radius: 4px; font-weight: bold; font-size: 16px; box-shadow: 0 4px 6px -1px rgba(124, 58, 237, 0.3); transition: opacity 0.2s;" do %>
            パスワードを変更する
          <% end %>
        </div>

        <p style="font-size: 12px; color: #9ca3af; line-height: 1.5;">
          ※もしこのリクエストにお心当たりがない場合は、このメールを無視してください。<br>
          パスワードは変更されず、そのままご利用いただけます。
        </p>
        
      </div>

      <%# フッター %>
      <div style="background-color: #f3f4f6; padding: 20px; text-align: center; border-top: 1px solid #e5e7eb;">
        <p style="margin: 0; font-size: 12px; color: #9ca3af;">
          TripConcierge
        </p>
      </div>

    </div>
  </div>
</body>
</html>